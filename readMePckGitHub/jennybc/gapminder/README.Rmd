


<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    
    
    <title>gapminder/README.Rmd at master · jennybc/gapminder · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="jennybc/gapminder" name="twitter:title" /><meta content="gapminder - Excerpt from the Gapminder data, as an R data package and in plain text delimited form" name="twitter:description" /><meta content="https://avatars3.githubusercontent.com/u/599454?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars3.githubusercontent.com/u/599454?v=3&amp;s=400" property="og:image" /><meta content="jennybc/gapminder" property="og:title" /><meta content="https://github.com/jennybc/gapminder" property="og:url" /><meta content="gapminder - Excerpt from the Gapminder data, as an R data package and in plain text delimited form" property="og:description" />
      <meta name="browser-stats-url" content="/_stats">
    <link rel="assets" href="https://assets-cdn.github.com/">
    
    <meta name="pjax-timeout" content="1000">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient>
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="C1BEC101:6668:EC7A93:55104FF1" name="octolytics-dimension-request_id" />
    
    <meta content="Rails, view, blob#show" name="analytics-event" />

    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param" />
<meta content="EiSnvsSFIFQ81z+wGzU5NDQIXzLbCQvkiYH2P06VrnKKlPIMTVIhSvYnIRLSIXOzTNgruYtdRSF2p7RTyQY2Iw==" name="csrf-token" />

    <link href="https://assets-cdn.github.com/assets/github-099e0ecc2851c8aca89ef6dafa191df3b0f2a2c8ad34e134c5473ca1ba0a59b2.css" media="all" rel="stylesheet" />
    <link href="https://assets-cdn.github.com/assets/github2-40d9bf14363443ccf64a2b71208f59e8739d6288d962feba121227e0608772f3.css" media="all" rel="stylesheet" />
    
    


    <meta http-equiv="x-pjax-version" content="b6b9548efafbc4235d9cb55e3ba0c038">

      
  <meta name="description" content="gapminder - Excerpt from the Gapminder data, as an R data package and in plain text delimited form">
  <meta name="go-import" content="github.com/jennybc/gapminder git https://github.com/jennybc/gapminder.git">

  <meta content="599454" name="octolytics-dimension-user_id" /><meta content="jennybc" name="octolytics-dimension-user_login" /><meta content="25721466" name="octolytics-dimension-repository_id" /><meta content="jennybc/gapminder" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="25721466" name="octolytics-dimension-repository_network_root_id" /><meta content="jennybc/gapminder" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/jennybc/gapminder/commits/master.atom" rel="alternate" title="Recent Commits to gapminder:master" type="application/atom+xml">

  </head>


  <body class="logged_out  env-production  vis-public page-blob">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      


        
        <div class="header header-logged-out" role="banner">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions" role="navigation">
        <a class="btn btn-primary" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
      <a class="btn" href="/login?return_to=%2Fjennybc%2Fgapminder%2Fblob%2Fmaster%2FREADME.Rmd" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
    </div>

    <div class="site-search repo-scope js-site-search" role="search">
      <form accept-charset="UTF-8" action="/jennybc/gapminder/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/jennybc/gapminder/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <input type="text"
    class="js-site-search-field is-clearable"
    data-hotkey="s"
    name="q"
    placeholder="Search"
    data-global-scope-placeholder="Search GitHub"
    data-repo-scope-placeholder="Search"
    tabindex="1"
    autocapitalize="off">
  <div class="scope-badge">This repository</div>
</form>
    </div>

      <ul class="header-nav left" role="navigation">
          <li class="header-nav-item">
            <a class="header-nav-link" href="/explore" data-ga-click="(Logged out) Header, go to explore, text:explore">Explore</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/features" data-ga-click="(Logged out) Header, go to features, text:features">Features</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://enterprise.github.com/" data-ga-click="(Logged out) Header, go to enterprise, text:enterprise">Enterprise</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/blog" data-ga-click="(Logged out) Header, go to blog, text:blog">Blog</a>
          </li>
      </ul>

  </div>
</div>



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">

  <li>
      <a href="/login?return_to=%2Fjennybc%2Fgapminder"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <span class="octicon octicon-eye"></span>
    Watch
  </a>
  <a class="social-count" href="/jennybc/gapminder/watchers">
    5
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fjennybc%2Fgapminder"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <span class="octicon octicon-star"></span>
    Star
  </a>

    <a class="social-count js-social-count" href="/jennybc/gapminder/stargazers">
      37
    </a>

  </li>

    <li>
      <a href="/login?return_to=%2Fjennybc%2Fgapminder"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-repo-forked"></span>
        Fork
      </a>
      <a href="/jennybc/gapminder/network" class="social-count">
        11
      </a>
    </li>
</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo"></span>
          <span class="author"><a href="/jennybc" class="url fn" itemprop="url" rel="author"><span itemprop="title">jennybc</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/jennybc/gapminder" class="js-current-repository" data-pjax="#js-repo-pjax-container">gapminder</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline  ">
        <div class="repository-sidebar clearfix">
            
<nav class="sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/jennybc/gapminder/issues/counts">
  <ul class="sunken-menu-group">
    <li class="tooltipped tooltipped-w" aria-label="Code">
      <a href="/jennybc/gapminder" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /jennybc/gapminder">
        <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Issues">
        <a href="/jennybc/gapminder/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /jennybc/gapminder/issues">
          <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
          <span class="js-issue-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>      </li>

    <li class="tooltipped tooltipped-w" aria-label="Pull requests">
      <a href="/jennybc/gapminder/pulls" aria-label="Pull requests" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g p" data-selected-links="repo_pulls /jennybc/gapminder/pulls">
          <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull requests</span>
          <span class="js-pull-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>


  </ul>
  <div class="sunken-menu-separator"></div>
  <ul class="sunken-menu-group">

    <li class="tooltipped tooltipped-w" aria-label="Pulse">
      <a href="/jennybc/gapminder/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-selected-links="pulse /jennybc/gapminder/pulse">
        <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>

    <li class="tooltipped tooltipped-w" aria-label="Graphs">
      <a href="/jennybc/gapminder/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-selected-links="repo_graphs repo_contributors /jennybc/gapminder/graphs">
        <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>
  </ul>


</nav>

              <div class="only-with-full-nav">
                  
<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/jennybc/gapminder.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/jennybc/gapminder" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>



<p class="clone-options">You can clone with
  <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a> or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>



                <a href="/jennybc/gapminder/archive/master.zip"
                   class="btn btn-sm sidebar-button"
                   aria-label="Download the contents of jennybc/gapminder as a zip file"
                   title="Download the contents of jennybc/gapminder as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          

<a href="/jennybc/gapminder/blob/197d9d2bb2bc0306f637d70b52c1f4defe0d5d13/README.Rmd" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:574afeaeda5217877881ee6dc056a53d -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu js-menu-container js-select-menu left">
  <span class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    title="master"
    role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/jennybc/gapminder/blob/master/README.Rmd"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="master">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jennybc/gapminder/tree/v0.1.0/README.Rmd"
                 data-name="v0.1.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="v0.1.0">v0.1.0</a>
            </div>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="btn-group right">
    <a href="/jennybc/gapminder/find/master"
          class="js-show-file-finder btn btn-sm empty-icon tooltipped tooltipped-s"
          data-pjax
          data-hotkey="t"
          aria-label="Quickly jump between files">
      <span class="octicon octicon-list-unordered"></span>
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
  </div>

  <div class="breadcrumb js-zeroclipboard-target">
    <span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/jennybc/gapminder" class="" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">gapminder</span></a></span></span><span class="separator">/</span><strong class="final-path">README.Rmd</strong>
  </div>
</div>


  <div class="commit file-history-tease">
    <div class="file-history-tease-header">
        <img alt="@jennybc" class="avatar" data-user="599454" height="24" src="https://avatars2.githubusercontent.com/u/599454?v=3&amp;s=48" width="24" />
        <span class="author"><a href="/jennybc" rel="author">jennybc</a></span>
        <time datetime="2015-03-17T23:08:50Z" is="relative-time">Mar 17, 2015</time>
        <div class="commit-title">
            <a href="/jennybc/gapminder/commit/197d9d2bb2bc0306f637d70b52c1f4defe0d5d13" class="message" data-pjax="true" title="make README code safe, more consistent">make README code safe, more consistent</a>
        </div>
    </div>

    <div class="participation">
      <p class="quickstat">
        <a href="#blob_contributors_box" rel="facebox">
          <strong>1</strong>
           contributor
        </a>
      </p>
      
    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list">
          <li class="facebox-user-list-item">
            <img alt="@jennybc" data-user="599454" height="24" src="https://avatars2.githubusercontent.com/u/599454?v=3&amp;s=48" width="24" />
            <a href="/jennybc">jennybc</a>
          </li>
      </ul>
    </div>
  </div>

<div class="file">
  <div class="file-header">
    <div class="file-actions">

      <div class="btn-group">
        <a href="/jennybc/gapminder/raw/master/README.Rmd" class="btn btn-sm " id="raw-url">Raw</a>
          <a href="/jennybc/gapminder/blame/master/README.Rmd" class="btn btn-sm js-update-url-with-hash">Blame</a>
        <a href="/jennybc/gapminder/commits/master/README.Rmd" class="btn btn-sm " rel="nofollow">History</a>
      </div>


          <button type="button" class="octicon-btn disabled tooltipped tooltipped-n" aria-label="You must be signed in to make or propose changes">
            <span class="octicon octicon-pencil"></span>
          </button>

        <button type="button" class="octicon-btn octicon-btn-danger disabled tooltipped tooltipped-n" aria-label="You must be signed in to make or propose changes">
          <span class="octicon octicon-trashcan"></span>
        </button>
    </div>

    <div class="file-info">
        184 lines (129 sloc)
        <span class="file-info-divider"></span>
      8.341 kb
    </div>
  </div>
    <div id="readme" class="blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="mainContentOfPage"><table data-table-type="yaml-metadata">
  <thead>
  <tr>
  <th>output</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><div><table>
  <thead>
  <tr>
  <th>md_document</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><div><table>
  <thead>
  <tr>
  <th>variant</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><div>markdown_github</div></td>
  </tr>
  </tbody>
</table></div></td>
  </tr>
  </tbody>
</table></div></td>
  </tr>
  </tbody>
</table><h1>
<a id="user-content-gapminder" class="anchor" href="#gapminder" aria-hidden="true"><span class="octicon octicon-link"></span></a>gapminder</h1>

<div class="highlight highlight-r"><pre><span class="pl-e">knitr</span><span class="pl-k">::</span><span class="pl-smi">opts_chunk</span><span class="pl-k">$</span>set(<span class="pl-v">collapse</span> <span class="pl-k">=</span> <span class="pl-c1">TRUE</span>)</pre></div>

<p>Excerpt from the <a href="http://www.gapminder.org/data/">Gapminder</a> data. This R data package provides the data as a data.frame and in plain text delimited form. Package includes premade color schemes for the countries and continents.</p>

<h3>
<a id="user-content-install-and-test-drive" class="anchor" href="#install-and-test-drive" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install and test drive</h3>

<p>Install <code>gapminder</code> from CRAN:</p>

<div class="highlight highlight-r"><pre>install.packages(<span class="pl-s"><span class="pl-pds">"</span>gapminder<span class="pl-pds">"</span></span>)</pre></div>

<p>Or you can install <code>gapminder</code> from GitHub:</p>

<div class="highlight highlight-r"><pre><span class="pl-e">devtools</span><span class="pl-k">::</span>install_github(<span class="pl-s"><span class="pl-pds">"</span>jennybc/gapminder<span class="pl-pds">"</span></span>)</pre></div>

<p>Load it and test drive with some data aggregation and plotting:</p>

<div class="highlight highlight-r"><pre>library(<span class="pl-s"><span class="pl-pds">"</span>gapminder<span class="pl-pds">"</span></span>)

aggregate(<span class="pl-smi">lifeExp</span> <span class="pl-k">~</span> <span class="pl-smi">continent</span>, <span class="pl-smi">gapminder</span>, <span class="pl-smi">median</span>)

suppressPackageStartupMessages(library(<span class="pl-s"><span class="pl-pds">"</span>dplyr<span class="pl-pds">"</span></span>))
<span class="pl-smi">gapminder</span> %<span class="pl-k">&gt;</span>%
    filter(<span class="pl-smi">year</span> <span class="pl-k">==</span> <span class="pl-c1">2007</span>) %<span class="pl-k">&gt;</span>%
    group_by(<span class="pl-smi">continent</span>) %<span class="pl-k">&gt;</span>%
    summarise(<span class="pl-v">lifeExp</span> <span class="pl-k">=</span> median(<span class="pl-smi">lifeExp</span>))

library(<span class="pl-s"><span class="pl-pds">"</span>ggplot2<span class="pl-pds">"</span></span>)
ggplot(<span class="pl-smi">gapminder</span>, aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">continent</span>, <span class="pl-v">y</span> <span class="pl-k">=</span> <span class="pl-smi">lifeExp</span>)) <span class="pl-k">+</span>
  geom_boxplot(<span class="pl-v">outlier.colour</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>hotpink<span class="pl-pds">"</span></span>) <span class="pl-k">+</span>
  geom_jitter(<span class="pl-v">position</span> <span class="pl-k">=</span> position_jitter(<span class="pl-v">width</span> <span class="pl-k">=</span> <span class="pl-c1">0.1</span>, <span class="pl-v">height</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>), <span class="pl-v">alpha</span> <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">/</span><span class="pl-c1">4</span>)</pre></div>

<p>The package also includes two color schemes, <code>country_colors</code> and <code>continent_colors</code>. See an image of the full scheme at the bottom of this page. Here's how to exploit the country color scheme in your own graphs, using base graphics:</p>

<div class="highlight highlight-r"><pre><span class="pl-c"># using country_colors with base graphics</span>

<span class="pl-c"># for convenience, integrate the country colors into the data.frame</span>
<span class="pl-smi">gap_with_colors</span> <span class="pl-k">&lt;-</span>
  <span class="pl-k">data.frame</span>(<span class="pl-smi">gapminder</span>,
             <span class="pl-v">cc</span> <span class="pl-k">=</span> I(<span class="pl-smi">country_colors</span>[match(<span class="pl-smi">gapminder</span><span class="pl-k">$</span><span class="pl-smi">country</span>,
                                         names(<span class="pl-smi">country_colors</span>))]))

<span class="pl-c"># bubble plot, focus just on Africa and Europe in 2007</span>
<span class="pl-smi">keepers</span> <span class="pl-k">&lt;-</span> with(<span class="pl-smi">gap_with_colors</span>,
                <span class="pl-smi">continent</span> <span class="pl-k">%in%</span> c(<span class="pl-s"><span class="pl-pds">"</span>Africa<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Europe<span class="pl-pds">"</span></span>) <span class="pl-k">&amp;</span> <span class="pl-smi">year</span> <span class="pl-k">==</span> <span class="pl-c1">2007</span>)
plot(<span class="pl-smi">lifeExp</span> <span class="pl-k">~</span> <span class="pl-smi">gdpPercap</span>, <span class="pl-smi">gap_with_colors</span>,
     <span class="pl-v">subset</span> <span class="pl-k">=</span> <span class="pl-smi">keepers</span>, <span class="pl-v">log</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>x<span class="pl-pds">"</span></span>, <span class="pl-v">pch</span> <span class="pl-k">=</span> <span class="pl-c1">21</span>,
     <span class="pl-v">cex</span> <span class="pl-k">=</span> sqrt(<span class="pl-smi">gap_with_colors</span><span class="pl-k">$</span><span class="pl-smi">pop</span>[<span class="pl-smi">keepers</span>]<span class="pl-k">/</span><span class="pl-c1">pi</span>)<span class="pl-k">/</span><span class="pl-c1">1500</span>,
     <span class="pl-v">bg</span> <span class="pl-k">=</span> <span class="pl-smi">gap_with_colors</span><span class="pl-k">$</span><span class="pl-smi">cc</span>[<span class="pl-smi">keepers</span>])</pre></div>

<p>With <code>ggplot2</code>, you can use the country colors by providing <code>country_colors</code> to <code>scale_color_manual()</code> like so:</p>

<div class="highlight highlight-r"><pre><span class="pl-k">...</span> <span class="pl-k">+</span> scale_color_manual(<span class="pl-v">values</span> <span class="pl-k">=</span> <span class="pl-smi">country_colors</span>) <span class="pl-k">+</span> <span class="pl-k">...</span></pre></div>

<p>Here are some <code>ggplot2</code> examples:</p>

<div class="highlight highlight-r"><pre>library(<span class="pl-s"><span class="pl-pds">"</span>ggplot2<span class="pl-pds">"</span></span>)

<span class="pl-c"># simple line plot for 5 countries</span>
<span class="pl-smi">h_countries</span> <span class="pl-k">&lt;-</span> c(<span class="pl-s"><span class="pl-pds">"</span>Egypt<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Haiti<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Romania<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Thailand<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Venezuela<span class="pl-pds">"</span></span>)
<span class="pl-smi">h_dat</span> <span class="pl-k">&lt;-</span> droplevels(subset(<span class="pl-smi">gapminder</span>, <span class="pl-smi">country</span> <span class="pl-k">%in%</span> <span class="pl-smi">h_countries</span>))
<span class="pl-smi">h_dat</span><span class="pl-k">$</span><span class="pl-smi">country</span> <span class="pl-k">&lt;-</span> with(<span class="pl-smi">h_dat</span>, reorder(<span class="pl-smi">country</span>, <span class="pl-smi">lifeExp</span>, <span class="pl-smi">max</span>))
ggplot(<span class="pl-smi">h_dat</span>, aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">year</span>, <span class="pl-v">y</span> <span class="pl-k">=</span> <span class="pl-smi">lifeExp</span>)) <span class="pl-k">+</span>
  geom_line(aes(<span class="pl-v">color</span> <span class="pl-k">=</span> <span class="pl-smi">country</span>)) <span class="pl-k">+</span>
  scale_colour_manual(<span class="pl-v">values</span> <span class="pl-k">=</span> <span class="pl-smi">country_colors</span>) <span class="pl-k">+</span>
  guides(<span class="pl-v">color</span> <span class="pl-k">=</span> guide_legend(<span class="pl-v">reverse</span> <span class="pl-k">=</span> <span class="pl-c1">TRUE</span>))

ggplot(subset(<span class="pl-smi">gapminder</span>, <span class="pl-smi">continent</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span>Oceania<span class="pl-pds">"</span></span>),
       aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">year</span>, <span class="pl-v">y</span> <span class="pl-k">=</span> <span class="pl-smi">lifeExp</span>, <span class="pl-v">group</span> <span class="pl-k">=</span> <span class="pl-smi">country</span>, <span class="pl-v">color</span> <span class="pl-k">=</span> <span class="pl-smi">country</span>)) <span class="pl-k">+</span>
  geom_line(<span class="pl-v">lwd</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>, <span class="pl-v">show_guide</span> <span class="pl-k">=</span> <span class="pl-c1">FALSE</span>) <span class="pl-k">+</span> facet_wrap(<span class="pl-k">~</span> <span class="pl-smi">continent</span>) <span class="pl-k">+</span>
  scale_color_manual(<span class="pl-v">values</span> <span class="pl-k">=</span> <span class="pl-smi">country_colors</span>) <span class="pl-k">+</span>
  theme_bw() <span class="pl-k">+</span> theme(<span class="pl-v">strip.text</span> <span class="pl-k">=</span> element_text(<span class="pl-v">size</span> <span class="pl-k">=</span> rel(<span class="pl-c1">1.1</span>)))

ggplot(subset(<span class="pl-smi">gapminder</span>, <span class="pl-smi">year</span> <span class="pl-k">==</span> <span class="pl-c1">2007</span> <span class="pl-k">&amp;</span> <span class="pl-smi">continent</span> <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span>Oceania<span class="pl-pds">"</span></span>),
       aes(<span class="pl-v">x</span> <span class="pl-k">=</span> <span class="pl-smi">gdpPercap</span>, <span class="pl-v">y</span> <span class="pl-k">=</span> <span class="pl-smi">lifeExp</span>)) <span class="pl-k">+</span>
       scale_x_log10(<span class="pl-v">limits</span> <span class="pl-k">=</span> c(<span class="pl-c1">150</span>, <span class="pl-c1">115000</span>)) <span class="pl-k">+</span> ylim(c(<span class="pl-c1">16</span>, <span class="pl-c1">96</span>)) <span class="pl-k">+</span>
       geom_point(aes(<span class="pl-v">size</span> <span class="pl-k">=</span> sqrt(<span class="pl-smi">pop</span><span class="pl-k">/</span><span class="pl-c1">pi</span>)), <span class="pl-v">pch</span> <span class="pl-k">=</span> <span class="pl-c1">21</span>, <span class="pl-v">color</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>grey20<span class="pl-pds">'</span></span>,
       <span class="pl-v">show_guide</span> <span class="pl-k">=</span> <span class="pl-c1">FALSE</span>) <span class="pl-k">+</span> scale_size_continuous(<span class="pl-v">range</span><span class="pl-k">=</span>c(<span class="pl-c1">1</span>,<span class="pl-c1">40</span>)) <span class="pl-k">+</span>
       facet_wrap(<span class="pl-k">~</span> <span class="pl-smi">continent</span>) <span class="pl-k">+</span> coord_fixed(<span class="pl-v">ratio</span> <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">/</span><span class="pl-c1">43</span>) <span class="pl-k">+</span>
       aes(<span class="pl-v">fill</span> <span class="pl-k">=</span> <span class="pl-smi">country</span>) <span class="pl-k">+</span> scale_fill_manual(<span class="pl-v">values</span> <span class="pl-k">=</span> <span class="pl-smi">country_colors</span>) <span class="pl-k">+</span>
       theme_bw() <span class="pl-k">+</span> theme(<span class="pl-v">strip.text</span> <span class="pl-k">=</span> element_text(<span class="pl-v">size</span> <span class="pl-k">=</span> rel(<span class="pl-c1">1.1</span>)))</pre></div>

<h3>
<a id="user-content-description-of-the-dataset" class="anchor" href="#description-of-the-dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description of the dataset</h3>

<p>I have used this excerpt in <a href="http://stat545-ubc.github.io">STAT 545</a> since 2008 and, more recently, in <a href="http://jennybc.github.io/2014-05-12-ubc/">R-flavored Software Carpentry Workshops</a> and a <a href="https://github.com/jennybc/ggplot2-tutorial"><code>ggplot2</code> tutorial</a>. I've been amazed at how useful and durable this dataset is for teaching data analysis with R.</p>

<p>Description:</p>

<ul>
<li>1704 observations; fills a size niche between <code>iris</code> (150 rows) and the likes of <code>diamonds</code> (54K rows)</li>
<li>6 variables

<ul>
<li>
<code>country</code> a factor with 142 levels</li>
<li>
<code>continent</code>, a factor with 5 levels</li>
<li>
<code>year</code>: going from 1952 to 2007 in increments of 5 years</li>
<li>
<code>pop</code>: population</li>
<li>
<code>gdpPercap</code>: GDP per capita</li>
<li>
<code>lifeExp</code>: life expectancy</li>
</ul>
</li>
</ul>

<p>There are 12 rows for each country, i.e. complete data for 1952, 1955, ..., 2007.</p>

<p>The two factors provide opportunities to demonstrate factor handling, in aggregation and visualization, for factors with very few and very many levels.</p>

<p>The four quantitative variables are generally quite correlated with each other and these trends have interesting relationships to <code>country</code> and <code>continent</code>, so you will find that simple plots and aggregations tell a reasonable story and are not completely boring.</p>

<p>Visualization of the temporal trends in life expectancy, by country, is particularly rewarding, since there are several countries with sharp drops due to political upheaval. This then motivates more systematic investigations via data aggregation to proactively identify all countries whose data exhibits certain properties.</p>

<h3>
<a id="user-content-how-this-sausage-was-made" class="anchor" href="#how-this-sausage-was-made" aria-hidden="true"><span class="octicon octicon-link"></span></a>How this sausage was made</h3>

<blockquote lang="en">
<p>Data cleaning code cannot be clean. It's a sort of sin eater.</p>— Stat Fact (@StatFact) <a href="https://twitter.com/StatFact/status/492753200190341120">July 25, 2014</a>
</blockquote>

<p>The <a href="/jennybc/gapminder/blob/master/data-raw"><code>data-raw</code></a> directory contains all of the scripts used to extract the data from the Excel spreadsheets downloaded from <a href="http://www.gapminder.org">Gapminder</a> in 2008 and 2009. All underlying and intermediate data is there as well, going back to the Excel files themselves.</p>

<p>I explicitly use this package to teach data cleaning, so have refactored my old cleaning code into several scripts and also include compiled Markdown reports <em>(no Markdown yet; see <a href="https://github.com/jennybc/gapminder/issues/1">iss#1</a>)</em>. In hindsight, I wouldn't necessarily clean it the same way again (and I would download more recent data!), but at this point there is great value in reproducing the data I've been using for ~5 years.</p>

<h3>
<a id="user-content-plain-text-delimited-files" class="anchor" href="#plain-text-delimited-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plain text delimited files</h3>

<p>I make available two plain text, tab delimited <code>.tsv</code> files:</p>

<ul>
<li>
<a href="/jennybc/gapminder/blob/master/inst/gapminder.tsv"><code>gapminder.tsv</code></a>: the same dataset available via <code>library("gapminder"); gapminder</code>. Each of the 142 countries presents complete data for 12 years: 1952, 1957, ..., 2007.</li>
<li>
<a href="/jennybc/gapminder/blob/master/inst/gapminder-unfiltered.tsv"><code>gapminder-unfiltered.tsv</code></a>: the larger dataset that, <strong>when filtered</strong>, yields <a href="/jennybc/gapminder/blob/master/inst/gapminder.tsv"><code>gapminder.tsv</code></a>. In this file, I have NOT filtered for the years 1952, 1957, ..., 2007, I retain countries with incomplete data, and I did not impute data for China in 1952.</li>
</ul>

<p>The main package dataset has 142 * 12 = 1704 rows, whereas the larger, unfiltered dataset contains 3312 rows, almost twice as much data.</p>

<p>Here in this repo, these delimited files can be found:</p>

<ul>
<li>in the <a href="/jennybc/gapminder/blob/master/inst"><code>inst/</code></a> sub-directory</li>
</ul>

<p>Once you've installed the <code>gapminder</code> package they can be found locally and used like so:</p>

<div class="highlight highlight-r"><pre><span class="pl-smi">gap_tsv</span> <span class="pl-k">&lt;-</span> system.file(<span class="pl-s"><span class="pl-pds">"</span>gapminder.tsv<span class="pl-pds">"</span></span>, <span class="pl-v">package</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>gapminder<span class="pl-pds">"</span></span>)
<span class="pl-smi">gap_tsv</span> <span class="pl-k">&lt;-</span> read.delim(<span class="pl-smi">gap_tsv</span>)
str(<span class="pl-smi">gap_tsv</span>)
<span class="pl-smi">gap_tsv</span> %<span class="pl-k">&gt;</span>% <span class="pl-c"># Bhutan did not make the cut because data for only 8 years :(</span>
  filter(<span class="pl-smi">country</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Bhutan<span class="pl-pds">"</span></span>)

<span class="pl-smi">gap_bigger_tsv</span> <span class="pl-k">&lt;-</span> system.file(<span class="pl-s"><span class="pl-pds">"</span>gapminder-unfiltered.tsv<span class="pl-pds">"</span></span>, <span class="pl-v">package</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>gapminder<span class="pl-pds">"</span></span>)
<span class="pl-smi">gap_bigger_tsv</span> <span class="pl-k">&lt;-</span> read.delim(<span class="pl-smi">gap_bigger_tsv</span>)
str(<span class="pl-smi">gap_bigger_tsv</span>)
<span class="pl-smi">gap_bigger_tsv</span> %<span class="pl-k">&gt;</span>% <span class="pl-c"># Bhutan IS here though! :)</span>
  filter(<span class="pl-smi">country</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Bhutan<span class="pl-pds">"</span></span>)</pre></div>

<h2>
<a id="user-content-color-schemes" class="anchor" href="#color-schemes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Color schemes</h2>

<p>Continent specific colors were selected from <code>RColorBrewer</code> palettes.</p>

<p>These were then expanded into a larger set of colors to cover all the countries in each continent, where darker colors correspond to countries with a larger population.</p>

<p>The schemes are provided as named character vectors:</p>

<div class="highlight highlight-r"><pre>head(<span class="pl-smi">country_colors</span>, <span class="pl-c1">4</span>)
head(<span class="pl-smi">continent_colors</span>)</pre></div>

<p>The country scheme is available in this repo as <a href="/jennybc/gapminder/blob/master/data-raw/gapminder-color-scheme-ggplot2.png">PNG</a> and <a href="/jennybc/gapminder/blob/master/data-raw/gapminder-color-scheme-base.pdf">PDF</a>.</p>

<p><a href="/jennybc/gapminder/blob/master/data-raw/gapminder-color-scheme-ggplot2.png" target="_blank"><img src="/jennybc/gapminder/raw/master/data-raw/gapminder-color-scheme-ggplot2.png" alt="" style="max-width:100%;"></a></p>

<p>Gapminder's data is released under the Creative Commons Attribution 3.0 Unported license. See their <a href="https://docs.google.com/document/pub?id=1POd-pBMc5vDXAmxrpGjPLaCSDSWuxX6FLQgq5DhlUhM">terms of use</a>. </p>
</article>
  </div>

</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <form accept-charset="UTF-8" class="js-jump-to-line-form">
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" autofocus>
    <button type="submit" class="btn">Go</button>
  </form>
</div>

        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.03524s from github-fe141-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
    </ul>
  </div>
</div>


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder=""></textarea>
      <div class="suggester-container">
        <div class="suggester fullscreen-suggester js-suggester js-navigation-container"></div>
      </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x flash-close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-d22b59d0085e83b7549ba4341ec9e68f80c2f29c8e49213ee182003dc8d568c6.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-b1799c46bb59be68d925cba885ab38303711632ad670e579e1bc4857963e52cb.js"></script>
      
      

  </body>
</html>

